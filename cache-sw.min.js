"use strict";let t;async function e(t){let e=0x811c9dc5;return await t.pipeTo(new WritableStream({write:t=>{for(let a=0;a<t.length;a++)e=Math.imul(e^t[a],0x1000193)}})),e>>>0}async function a(t,a){let n=[...arguments].map(t=>t.headers.get("etag")?.trim().replace(/^W\//,""));if(n[0]&&n[0]==n[1])return!1;if(n.every(t=>t?.length>=34))return!0;let i=await Promise.all([...arguments].map(t=>e(t.clone().body)));return i[0]!=i[1]}function n(t){return new URL(t.url).origin==location.origin}let i=new Map;async function r(t,e,n){!n.reload&&await a(t,e)&&(n.reload=!0)}async function l(t){let e=await clients.get(t);e&&await e.navigate(e.url)}async function o(t,e){return new Promise(a=>{setTimeout(()=>{t.petitions--,t.petitions<=0&&(i.delete(e),t.reload&&a(l(e))),a()})})}async function s(t,e){let a=await e.keys(t,{ignoreSearch:!0,ignoreVary:!0});await Promise.all(a.slice(0,-1).map(t=>e.delete(t)))}async function c(t){let e=await t.keys(),a=Math.max(Math.trunc(e.length/2),1);await Promise.all(e.slice(0,a).map(e=>t.delete(e)))}async function u(e,a,n,i){if("QuotaExceededError"!=i.name)throw i;return t||(t=c(e)).finally(()=>setTimeout(()=>{t=null})),await t,e.put(a,n.clone())}async function w(t,e){let a=await Promise.any([t,e]);return a?.status<500&&a||await t||e}async function h(t,e){return e.preloadResponse.then(e=>e||fetch(t)).then(t=>{if(t.status<500)return t;throw null}).catch(()=>fetch(t,{cache:"force-cache"}))}addEventListener("fetch",t=>{let e=t.request;if(!(n(e)||"style"==e.destination))return void("GET"==e.method&&t.respondWith(h(e,t)));let a=n(e),l=h(e,t),c=caches.open("runtime"),d=c.then(t=>t.match(e,{ignoreSearch:a})),f=w(d,l);if(t.respondWith(f.then(t=>t.clone())),a){let e;var p,y=t.resultingClientId||t.clientId,m=(p=y,(e=i.get(p))||(e={petitions:0},i.set(p,e)),e);m.petitions++}t.waitUntil(l.then(async t=>{if(200==t.status){let n=await c;await n.put(e,t.clone()).catch(a=>u(n,e,t,a)),a&&await d&&await Promise.all([r(await f,t,m),s(e,n)])}else"opaque"==t.type?await d||console.error(`${e.url} request is not crossorigin`):t.status<500&&await d&&await (await c).delete(e)}).finally(async()=>{a&&await o(m,y)}))}),addEventListener("activate",t=>t.waitUntil(registration.navigationPreload.enable())),skipWaiting();