let t;async function e(t){let e=await hashwasm.createXXHash128();return await t.pipeTo(new WritableStream({write:t=>e.update(t)})),e.digest("binary")}async function a(t,a){let n=[...arguments].map(t=>t.headers.get("etag")?.trim().replace(/^W\//,""));if(n[0]&&n[0]==n[1])return!1;let i=await Promise.all([...arguments].map(t=>e(t.body)));return i[0].some((t,e)=>t!=i[1][e])}function n(t){return new URL(t.url).origin==location.origin}importScripts("https://cdn.jsdelivr.net/npm/hash-wasm@4.12.0/dist/xxhash128.umd.min.js"),hashwasm.createXXHash128();const i=new Map;async function r(t,e,n){!n.reload&&await a(t,e)&&(n.reload=!0)}async function s(t){let e=await clients.get(t);e&&await e.navigate(e.url)}async function o(t,e){return new Promise(a=>{setTimeout(()=>{t.petitions--,t.petitions<=0&&(i.delete(e),t.reload&&a(s(e))),a()})})}async function l(t,e){let a=await e.keys(t,{ignoreSearch:!0,ignoreVary:!0});await Promise.all(a.slice(0,-1).map(t=>e.delete(t)))}async function c(t){let e=await t.keys(),a=Math.max(Math.trunc(e.length/2),1);await Promise.all(e.slice(0,a).map(e=>t.delete(e)))}async function u(e,a,n,i){if("QuotaExceededError"!=i.name)throw i;return t||(t=c(e)).finally(()=>setTimeout(()=>{t=null})),await t,e.put(a,n.clone())}async function h(t,e){let a=await Promise.any([t,e]);return a?.status<500&&a||await t||e}async function w(t,e){return e.preloadResponse.then(e=>e||fetch(t)).then(t=>{if(t.status<500)return t;throw null}).catch(()=>fetch(t,{cache:"force-cache"}))}addEventListener("fetch",t=>{let e=t.request;if(!(n(e)||"style"==e.destination))return void("GET"==e.method&&t.respondWith(w(e,t)));let a=n(e),s=w(e,t),c=caches.open("runtime"),d=c.then(t=>t.match(e,{ignoreSearch:a})),m=h(d,s);if(t.respondWith(m.then(t=>t.clone())),a){let e;var p,f=t.resultingClientId||t.clientId,y=(p=f,(e=i.get(p))||(e={petitions:0},i.set(p,e)),e);y.petitions++}t.waitUntil(s.then(async t=>{if(200==t.status){let n=await c;await n.put(e,t.clone()).catch(a=>u(n,e,t,a)),a&&await d&&await Promise.all([r((await m).clone(),t.clone(),y),l(e,n)])}else"opaque"==t.type?await d||console.error(`${e.url} request is not crossorigin`):t.status<500&&await d&&await (await c).delete(e)}).finally(async()=>{a&&await o(y,f)}))}),addEventListener("activate",t=>t.waitUntil(registration.navigationPreload.enable())),skipWaiting();